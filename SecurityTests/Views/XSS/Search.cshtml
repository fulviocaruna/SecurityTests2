<h1>Search</h1>

<div class="row">
	<div class="col-md-4">
		<form>
			<div class="form-group">
				<label class="control-label" for="searchTerm"></label>
				<input id="searchTerm" class="form-control" />
			</div>
			<div class="form-group">
				<input type="button" id="btn" value="Search" class="btn btn-primary" />
			</div>
		</form>
	</div>
</div>
<div class="row">
	<div class="col-md-4">
		<ul class="list-group" id="results">
		</ul>
	</div>
</div>

<script>
	document.getElementById("btn").onclick = () => {
		let list = document.getElementById("results");
		list.innerHTML = "";
		let searchTerm = document.getElementById("searchTerm").value;

		let url = "/XSS/SearchAPI?searchTerm=" + encodeURIComponent(searchTerm);
		console.log(url);

		fetch(url)
			.then(response => response.json())
			.then(data => data.forEach(item => {
				let li = document.createElement("li");
				li.className = "list-group-item";
				li.innerHTML = item;
				list.appendChild(li);
			}));
	}
</script>